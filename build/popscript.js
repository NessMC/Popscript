!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";t.__esModule=!0;var i=n(2);n(0).readFile("./index.ps","UTF-8",(function(e,t){if(e)throw e;new i.default(t.split(/\r?\n/g).join("\n")).transpile()}))},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var parser_1=__webpack_require__(3),tokens_1=__webpack_require__(5),tabdown_1=__webpack_require__(6),Transpiler=function(){function Transpiler(e){this.variables={},this.functions=[],parser_1.Tokenizer.addTokenSet(tokens_1.default),this.content=e.split(/\n/g)}return Transpiler.prototype.transpile=function(){var code=[];for(var index in this.content)if(this.content.hasOwnProperty(index)){var line=this.content[index],tokens=parser_1.Tokenizer.tokenize(line),context=[],built=[],var_name="";for(var item_token in tokens)if(tokens.hasOwnProperty(item_token)){var item=tokens[item_token],value=item.value,token=item.token;if(!token)return console.log("Can't understand this keyword \""+value+'" at line',index);switch(token){case"STRING":case"INT":built.push(value),context.filter((function(e){return["VARIABLE::USE","VARIABLE::DECLARATION"].includes(e)})).length>0&&"array"!==this.variables[var_name]&&(this.variables[var_name]=token.toLowerCase());break;case"COMMENT":built.push("//"+value.trim().slice(2));break;case"WORD":context.includes("FUNCTION::START")?context.includes("FUNCTION::START")?(built.push(value),this.functions.push(value)):built.push(value):void 0!==this.variables[value]?(built.push(value),context.push("VARIABLE::USE")):this.functions.includes(value)?(built.push(value),context.push("FUNCTION::CALL")):(built.push("var "+value),this.variables[value]="",context.push("VARIABLE::DECLARATION")),var_name=value;break;case"ARGUMENTS":built.push("("),context.push("FUNCTION::ARGUMENTS");break;case"SIGNS":if("="===value)context.includes("CONDITION::START")?built.push("=="):context.filter((function(e){return["VARIABLE::USE","VARIABLE::DECLARATION"].includes(e)})).length>0&&built.push("=");else if("-"===value){if(console.log(this.variables[var_name]),!var_name)break;if(!this.variables[var_name])break;switch(this.variables[var_name]){case"string":built.push(".replace("),context.push("STRING::REMOVE");break;case"array":built.push(".filter(x => x !== "),context.push("ARRAY::REMOVE");break;case"int":built.push(value)}}else built.push(value);break;case"INDEX":built.push("["+value.slice(1,value.length-1)+"]");break;case"PROPERTY":built.push("."+value.slice(1));break;case"L_PAREN":case"R_PAREN":context.filter((function(e){return["VARIABLE::USE","VARIABLE::DECLARATION"].includes(e)})).length>0?("L_PAREN"===token?built.push("["):"R_PAREN"===token&&built.push("]"),this.variables[var_name]="array"):context.includes("FUNCTION::CALL")&&built.push(value);break;case"COMMA":built.push(value);break;case"ADD":switch(this.variables[var_name]){case"string":case"int":built.push("+=");break;case"array":built.push(".push("),context.push("ARRAY::PUSH")}break;case"REMOVE":switch(this.variables[var_name]){case"int":built.push("-=");break;case"string":built.push(" = "+var_name+".replace("),context.push("STRING::REMOVE");break;case"array":built.push(" = "+var_name+".filter(x => x !== "),context.push("ARRAY::REMOVE")}break;case"IF":built.push("if("),context.push("CONDITION::START");break;case"ELIF":built.push("else if("),context.push("CONDITION::START");break;case"ELSE":built.push("else:");break;case"TABS":0===parseInt(item_token)&&built.push(value);break;case"AND":context.includes("STRING::REMOVE")&&(built.push(', ""); '),context.splice(context.findIndex((function(e){return"STRING::REMOVE"===e})),1)),context.includes("ARRAY::REMOVE")&&(built.push("); "),context.splice(context.findIndex((function(e){return"ARRAY::REMOVE"===e})),1)),context.includes("ARRAY::PUSH")&&(built.push("); "),context.splice(context.findIndex((function(e){return"ARRAY::PUSH"===e})),1)),context.includes("PRINT::START")&&(built.push("); "),context.splice(context.findIndex((function(e){return"PRINT::START"===e})),1)),context.includes("CONDITION::START")&&built.push("&&");break;case"LOOP":built.push("for("),context.push("LOOP::START");break;case"WHILE":built.push("while("),context.push("LOOP::START");break;case"FUNCTION":built.push("function "),context.push("FUNCTION::START");break;case"IN":built.push(" in ");break;case"PRINT":built.push("console.log("),context.push("PRINT::START")}}context.includes("STRING::REMOVE")&&(built.push(', "")'),context.splice(context.findIndex((function(e){return"STRING::REMOVE"===e})),1)),context.includes("ARRAY::REMOVE")&&(built.push(")"),context.splice(context.findIndex((function(e){return"ARRAY::REMOVE"===e})),1)),context.includes("ARRAY::PUSH")&&(built.push(")"),context.splice(context.findIndex((function(e){return"ARRAY::PUSH"===e})),1)),context.includes("PRINT::START")&&(built.push(")"),context.splice(context.findIndex((function(e){return"PRINT::START"===e})),1)),context.includes("CONDITION::START")&&(built.push("):"),context.splice(context.findIndex((function(e){return"CONDITION::START"===e})),1)),context.includes("LOOP::START")&&(built.push("):"),context.splice(context.findIndex((function(e){return"LOOP::START"===e})),1)),context.includes("FUNCTION::ARGUMENTS")&&(built.push("):"),context.splice(context.findIndex((function(e){return"FUNCTION::ARGUMENTS"===e})),1)),code.push(built.join("")),built=[],context=[]}eval(new tabdown_1.default(code).tab().join("\n"))},Transpiler}();exports.default=Transpiler},function(e,t,n){"use strict";t.__esModule=!0,t.Tokenizer=void 0;var i=n(4),s=function(){function e(){}return e.addTokenSet=function(e){for(var t in e)this.tokens[t]=e[t]},e.tokenize=function(e){return i.scanner(e,this)},e.tokens={},e.customOut={},e.ignore={},e.functions={},e}();t.Tokenizer=s},function(e,t,n){"use strict";function i(e,t,n){var i={token:e,value:t};return e in n.customOut&&(i.customOut=n.customOut[e]),i}function s(e,t,n){return null!==e&&(e.index<t.startToken||e.index===t.startToken&&e[0].length>t.endToken)&&(t.startToken=e.index,t.tokenValue=e[0],t.endToken=e[0].length,t.currToken=n),t}function r(e,t){var n={endToken:0,startToken:Number.MAX_SAFE_INTEGER,tokenValue:"",currToken:""};for(var i in e){if(e.hasOwnProperty(i))n=s(t.match(e[i]),n,i)}return n}t.__esModule=!0,t.scanner=void 0,t.scanner=function(e,t){for(var n=t.tokens,s=[];e;){var u=r(n,e),o=u.endToken,a=u.startToken,c=u.tokenValue,l=u.currToken;0!==a&&(c=e.substring(0,a),l=t.errTok,o=a),t.ignore[l]||s.push(i(l,c,t)),l in t.functions&&t.functions[l](),e=e.substring(o)}return s}},function(e,t,n){"use strict";t.__esModule=!0,t.default={SPACE:/\s/,TABS:/^\s+/,DOT:/\./,COMMA:/,/,L_PAREN:/\(/,R_PAREN:/\)/,ARGUMENTS:/=>/,PROPERTY:/:\w+/,INDEX:/<.*?>/,STRING:/(['"])(.*?)(['"])/,INT:/-?\d+/,OPTIONAL:/opt/,BOOLEAN:/true|false/,FUNCTION:/fn/,IF:/if/,ELIF:/elif/,ELSE:/else/,WHILE:/while/,LOOP:/loop/,IN:/in/,PRINT:/print/,RETURN:/return/,ADD:/(\+=|=\+)/,REMOVE:/(-=|=-)/,AND:/and|&/,WORD:/\w+/,SIGNS:/[><=+\-*\/%|]/,NOT:/not|!/,COMMENT:/--.*/}},function(e,t,n){"use strict";t.__esModule=!0;n(0);var i=function(){function e(e){this.content=e.filter((function(e){return""!==e})),this.AST={root:{}},this.parents=[],this.code=[]}return e.prototype.writeObject=function(e,t,n){var i=this.AST.root;if(e.length>0)for(var s in e)e.hasOwnProperty(s)&&(parseInt(s)+1===e.length&&(i[e[s]][t]=n),i=i[e[s]]);else i[t]=n},e.prototype.buildAST=function(e){void 0===e&&(e=0);var t=this.content[e],n=this.content[e+1],i=t.match(/^\s+/)?t.match(/^\s+/)[0].length/2:0,s=n?this.content[e+1].match(/^\s+/)?this.content[e+1].match(/^\s+/)[0].length/2:0:void 0;t.trimRight().endsWith(":")?(this.writeObject(this.parents,t.trim()+"||"+e+"||"+i,{}),this.parents.push(t.trim()+"||"+e+"||"+i)):this.writeObject(this.parents,t.trim()+"||"+e+"||"+i,""),s<i&&(this.parents=this.parents.slice(0,s)),n&&this.buildAST(e+1)},e.prototype.addBrackets=function(e){for(var t in e)e.hasOwnProperty(t)&&("object"==typeof e[t]?(this.code.push(new Array(parseInt(t.split("||")[2])).fill("  ").join("")+t.split("||")[0].slice(0,t.split("||")[0].length-1)+"{"),this.addBrackets(e[t]),this.code.push(new Array(parseInt(t.split("||")[2])).fill("  ").join("")+"}")):(this.code.push(new Array(parseInt(t.split("||")[2])).fill("  ").join("")+t.split("||")[0]),this.addBrackets(e[t])))},e.prototype.tab=function(){return this.buildAST(0),this.addBrackets(this.AST.root),this.code},e}();t.default=i}]);