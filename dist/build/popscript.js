!function(e){var n={};function t(s){if(n[s])return n[s].exports;var r=n[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,s){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:s})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(s,r,function(n){return e[n]}.bind(null,r));return s},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=1)}([function(e,n){e.exports=require("fs")},function(e,n,t){"use strict";n.__esModule=!0;var s=t(2);t(0).readFile("./example/index.ps","UTF-8",(function(e,n){if(e)throw e;new s.default(n.split(/\r?\n/g).join("\n")).transpile("./example/index.js")}))},function(e,n,t){"use strict";n.__esModule=!0;var s,r,i=t(3),u=t(5),o=t(6),c=t(0),a=t(7),p={},l=[],h=function(){function e(e){i.Tokenizer.addTokenSet(u.default),s=e.split(/\n/g)}return e.prototype.transpile=function(n){r||(r=a.dirname(n));var t=[],u=!1;for(var h in s)if(s.hasOwnProperty(h)){var f=s[h],R=i.Tokenizer.tokenize(f),T=[],d=[],O="",A=function(n){if(R.hasOwnProperty(n)){var t=R[n],s=t.value,i=t.token;if(!i)return{value:console.log("Can't understand this keyword \""+s+'" at line',h)};switch(i){case"STRING":case"INT":T.filter((function(e){return["VARIABLE::USE","VARIABLE::DECLARATION"].includes(e)})).length>0&&"array"!==p[O]?(p[O]=i.toLowerCase(),T.includes("MODULE::REQUIRE")?(d.push('"'+r+"/"+s.slice(1,s.length-1).replace(".ps",".js")+'"'),c.readFile(r+"/"+s.slice(1,s.length-1),"UTF-8",(function(n,t){if(n)throw n;new e(t.split(/\r?\n/g).join("\n")).transpile(r+"/"+s.slice(1,s.length-1).replace(".ps",".js"))}))):d.push(s)):d.push(s);break;case"COMMENT":d.push("//"+s.trim().slice(2));break;case"WORD":T.includes("FUNCTION::START")?T.includes("FUNCTION::START")?T.includes("FUNCTION::ARGUMENTS")?(d.push(s),p[s]=""):(u?d.push(s+"= function"):d.push(s),l.push(s)):d.push(s):void 0!==p[s]?(d.push(s),T.push("VARIABLE::USE")):l.includes(s)?(d.push(s),T.push("FUNCTION::CALL")):(d.push("var "+s),p[s]="",T.push("VARIABLE::DECLARATION")),O=s;break;case"ARGUMENTS":d.push("("),T.push("FUNCTION::ARGUMENTS");break;case"IMPORT":T.push("MODULE::IMPORT");break;case"FROM":T.includes("MODULE::IMPORT")&&(d.push("= require("),T.push("MODULE::REQUIRE"));break;case"SIGNS":if("="===s)T.includes("CONDITION::START")?d.push("=="):T.filter((function(e){return["VARIABLE::USE","VARIABLE::DECLARATION"].includes(e)})).length>0&&d.push("=");else if("-"===s){if(!O)break;if(!p[O])break;switch(p[O]){case"string":d.push(".replace("),T.push("STRING::REMOVE");break;case"array":d.push(".filter(x => x !== "),T.push("ARRAY::REMOVE");break;case"int":d.push(s)}}else d.push(s);break;case"INDEX":d.push("["+s.slice(1,s.length-1)+"]");break;case"PROPERTY":d.push("."+s.slice(1));break;case"L_PAREN":case"R_PAREN":d.push(s);break;case"ARRAY":":="===s?d.push("["):"=:"===s&&d.push("]");break;case"COMMA":d.push(s);break;case"ADD":switch(p[O]){case"string":case"int":d.push("+=");break;case"array":d.push(".push("),T.push("ARRAY::PUSH")}break;case"REMOVE":switch(p[O]){case"int":d.push("-=");break;case"string":d.push(" = "+O+".replace("),T.push("STRING::REMOVE");break;case"array":d.push(" = "+O+".filter(x => x !== "),T.push("ARRAY::REMOVE")}break;case"EXPORT":u=!0,d.push("module.exports.");break;case"IF":d.push("if("),T.push("CONDITION::START");break;case"ELIF":d.push("else if("),T.push("CONDITION::START");break;case"ELSE":d.push("else:");break;case"TABS":0===parseInt(n)&&d.push(s);break;case"AND":T.includes("STRING::REMOVE")&&(d.push(', ""); '),T.splice(T.findIndex((function(e){return"STRING::REMOVE"===e})),1)),T.includes("ARRAY::REMOVE")&&(d.push("); "),T.splice(T.findIndex((function(e){return"ARRAY::REMOVE"===e})),1)),T.includes("ARRAY::PUSH")&&(d.push("); "),T.splice(T.findIndex((function(e){return"ARRAY::PUSH"===e})),1)),T.includes("PRINT::START")&&(d.push("); "),T.splice(T.findIndex((function(e){return"PRINT::START"===e})),1)),T.includes("CONDITION::START")&&d.push("&&"),T.includes("MODULE::REQUIRE")&&(d.push("); "),T.splice(T.findIndex((function(e){return"MODULE::REQUIRE"===e})),1));break;case"LOOP":d.push("for("),T.push("LOOP::START");break;case"WHILE":d.push("while("),T.push("LOOP::START");break;case"FUNCTION":u||d.push("function "),T.push("FUNCTION::START");break;case"IN":d.push(" in ");break;case"PRINT":d.push("console.log("),T.push("PRINT::START")}}};for(var E in R){var I=A(E);if("object"==typeof I)return I.value}T.includes("STRING::REMOVE")&&(d.push(', "")'),T.splice(T.findIndex((function(e){return"STRING::REMOVE"===e})),1)),T.includes("ARRAY::REMOVE")&&(d.push(")"),T.splice(T.findIndex((function(e){return"ARRAY::REMOVE"===e})),1)),T.includes("ARRAY::PUSH")&&(d.push(")"),T.splice(T.findIndex((function(e){return"ARRAY::PUSH"===e})),1)),T.includes("PRINT::START")&&(d.push(")"),T.splice(T.findIndex((function(e){return"PRINT::START"===e})),1)),T.includes("CONDITION::START")&&(d.push("):"),T.splice(T.findIndex((function(e){return"CONDITION::START"===e})),1)),T.includes("LOOP::START")&&(d.push("):"),T.splice(T.findIndex((function(e){return"LOOP::START"===e})),1)),T.includes("FUNCTION::ARGUMENTS")&&(d.push("):"),u=!1,T.splice(T.findIndex((function(e){return"FUNCTION::ARGUMENTS"===e})),1)),T.includes("MODULE::REQUIRE")&&(d.push(")"),T.splice(T.findIndex((function(e){return"MODULE::REQUIRE"===e})),1)),t.push(d.join("")),d=[],T=[]}c.writeFile(n,new o.default(t).tab().join("\n"),(function(e){if(e)throw e}))},e}();n.default=h},function(e,n,t){"use strict";n.__esModule=!0,n.Tokenizer=void 0;var s=t(4),r=function(){function e(){}return e.addTokenSet=function(e){for(var n in e)this.tokens[n]=e[n]},e.tokenize=function(e){return s.scanner(e,this)},e.tokens={},e.customOut={},e.ignore={},e.functions={},e}();n.Tokenizer=r},function(e,n,t){"use strict";function s(e,n,t){var s={token:e,value:n};return e in t.customOut&&(s.customOut=t.customOut[e]),s}function r(e,n,t){return null!==e&&(e.index<n.startToken||e.index===n.startToken&&e[0].length>n.endToken)&&(n.startToken=e.index,n.tokenValue=e[0],n.endToken=e[0].length,n.currToken=t),n}function i(e,n){var t={endToken:0,startToken:Number.MAX_SAFE_INTEGER,tokenValue:"",currToken:""};for(var s in e){if(e.hasOwnProperty(s))t=r(n.match(e[s]),t,s)}return t}n.__esModule=!0,n.scanner=void 0,n.scanner=function(e,n){for(var t=n.tokens,r=[];e;){var u=i(t,e),o=u.endToken,c=u.startToken,a=u.tokenValue,p=u.currToken;0!==c&&(a=e.substring(0,c),p=n.errTok,o=c),n.ignore[p]||r.push(s(p,a,n)),p in n.functions&&n.functions[p](),e=e.substring(o)}return r}},function(e,n,t){"use strict";n.__esModule=!0,n.default={SPACE:/\s/,TABS:/^\s+/,DOT:/\./,COMMA:/,/,L_PAREN:/\(/,R_PAREN:/\)/,ARGUMENTS:/=>/,PROPERTY:/:\w+/,INDEX:/<.*?>/,STRING:/(['"])(.*?)(['"])/,INT:/-?\d+/,OPTIONAL:/opt/,BOOLEAN:/true|false/,FUNCTION:/fn/,IF:/if/,ELIF:/elif/,ELSE:/else/,WHILE:/while/,LOOP:/loop/,IN:/in/,PRINT:/print/,RETURN:/return/,ADD:/(\+=|=\+)/,REMOVE:/(-=|=-)/,IMPORT:/import/,EXPORT:/export/,FROM:/from/,ARRAY:/(:=|=:)/,AND:/and|&/,WORD:/\w+/,SIGNS:/[><=+\-*\/%|]/,NOT:/not|!/,COMMENT:/--.*/}},function(e,n,t){"use strict";n.__esModule=!0;t(0);var s=function(){function e(e){this.content=e.filter((function(e){return""!==e})),this.AST={root:{}},this.parents=[],this.code=[]}return e.prototype.writeObject=function(e,n,t){var s=this.AST.root;if(e.length>0)for(var r in e)e.hasOwnProperty(r)&&(parseInt(r)+1===e.length&&(s[e[r]][n]=t),s=s[e[r]]);else s[n]=t},e.prototype.buildAST=function(e){void 0===e&&(e=0);var n=this.content[e],t=this.content[e+1],s=n.match(/^\s+/)?n.match(/^\s+/)[0].length/2:0,r=t?this.content[e+1].match(/^\s+/)?this.content[e+1].match(/^\s+/)[0].length/2:0:void 0;n.trimRight().endsWith(":")?(this.writeObject(this.parents,n.trim()+"||"+e+"||"+s,{}),this.parents.push(n.trim()+"||"+e+"||"+s)):this.writeObject(this.parents,n.trim()+"||"+e+"||"+s,""),r<s&&(this.parents=this.parents.slice(0,r)),t&&this.buildAST(e+1)},e.prototype.addBrackets=function(e){for(var n in e)e.hasOwnProperty(n)&&("object"==typeof e[n]?(this.code.push(new Array(parseInt(n.split("||")[2])).fill("  ").join("")+n.split("||")[0].slice(0,n.split("||")[0].length-1)+"{"),this.addBrackets(e[n]),this.code.push(new Array(parseInt(n.split("||")[2])).fill("  ").join("")+"}")):(this.code.push(new Array(parseInt(n.split("||")[2])).fill("  ").join("")+n.split("||")[0]),this.addBrackets(e[n])))},e.prototype.tab=function(){return this.buildAST(0),this.addBrackets(this.AST.root),this.code},e}();n.default=s},function(e,n){e.exports=require("path")}]);