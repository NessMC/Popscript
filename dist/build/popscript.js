!function(e){var n={};function t(s){if(n[s])return n[s].exports;var r=n[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,s){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:s})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(s,r,function(n){return e[n]}.bind(null,r));return s},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=1)}([function(e,n){e.exports=require("fs")},function(e,n,t){"use strict";n.__esModule=!0;var s=t(2);t(0).readFile("./index.ps","UTF-8",(function(e,n){if(e)throw e;new s.default(n.split(/\r?\n/g).join("\n")).transpile("index.js")}))},function(e,n,t){"use strict";n.__esModule=!0;var s,r=t(3),i=t(5),u=t(6),o=t(0),c={},a=[],p=function(){function e(e){r.Tokenizer.addTokenSet(i.default),s=e.split(/\n/g)}return e.prototype.transpile=function(n){var t=[],i=!1;for(var p in s)if(s.hasOwnProperty(p)){var l=s[p],h=r.Tokenizer.tokenize(l),f=[],R=[],T="",d=function(n){if(h.hasOwnProperty(n)){var t=h[n],s=t.value,r=t.token;if(!r)return{value:console.log("Can't understand this keyword \""+s+'" at line',p)};switch(r){case"STRING":case"INT":f.filter((function(e){return["VARIABLE::USE","VARIABLE::DECLARATION"].includes(e)})).length>0&&"array"!==c[T]?(c[T]=r.toLowerCase(),f.includes("MODULE::REQUIRE")?(R.push('"./'+s.slice(1,s.length-1).replace(".ps",".js")+'"'),o.readFile(s.slice(1,s.length-1),"UTF-8",(function(n,t){if(n)throw n;new e(t.split(/\r?\n/g).join("\n")).transpile(s.slice(1,s.length-1).replace(".ps",".js"))}))):R.push(s)):R.push(s);break;case"COMMENT":R.push("//"+s.trim().slice(2));break;case"WORD":f.includes("FUNCTION::START")?f.includes("FUNCTION::START")?f.includes("FUNCTION::ARGUMENTS")?(R.push(s),c[s]=""):(i?R.push(s+"= function"):R.push(s),a.push(s)):R.push(s):void 0!==c[s]?(R.push(s),f.push("VARIABLE::USE")):a.includes(s)?(R.push(s),f.push("FUNCTION::CALL")):(R.push("var "+s),c[s]="",f.push("VARIABLE::DECLARATION")),T=s;break;case"ARGUMENTS":R.push("("),f.push("FUNCTION::ARGUMENTS");break;case"IMPORT":f.push("MODULE::IMPORT");break;case"FROM":f.includes("MODULE::IMPORT")&&(R.push("= require("),f.push("MODULE::REQUIRE"));break;case"SIGNS":if("="===s)f.includes("CONDITION::START")?R.push("=="):f.filter((function(e){return["VARIABLE::USE","VARIABLE::DECLARATION"].includes(e)})).length>0&&R.push("=");else if("-"===s){if(!T)break;if(!c[T])break;switch(c[T]){case"string":R.push(".replace("),f.push("STRING::REMOVE");break;case"array":R.push(".filter(x => x !== "),f.push("ARRAY::REMOVE");break;case"int":R.push(s)}}else R.push(s);break;case"INDEX":R.push("["+s.slice(1,s.length-1)+"]");break;case"PROPERTY":R.push("."+s.slice(1));break;case"L_PAREN":case"R_PAREN":R.push(s);break;case"ARRAY":":="===s?R.push("["):"=:"===s&&R.push("]");break;case"COMMA":R.push(s);break;case"ADD":switch(c[T]){case"string":case"int":R.push("+=");break;case"array":R.push(".push("),f.push("ARRAY::PUSH")}break;case"REMOVE":switch(c[T]){case"int":R.push("-=");break;case"string":R.push(" = "+T+".replace("),f.push("STRING::REMOVE");break;case"array":R.push(" = "+T+".filter(x => x !== "),f.push("ARRAY::REMOVE")}break;case"EXPORT":i=!0,R.push("module.exports.");break;case"IF":R.push("if("),f.push("CONDITION::START");break;case"ELIF":R.push("else if("),f.push("CONDITION::START");break;case"ELSE":R.push("else:");break;case"TABS":0===parseInt(n)&&R.push(s);break;case"AND":f.includes("STRING::REMOVE")&&(R.push(', ""); '),f.splice(f.findIndex((function(e){return"STRING::REMOVE"===e})),1)),f.includes("ARRAY::REMOVE")&&(R.push("); "),f.splice(f.findIndex((function(e){return"ARRAY::REMOVE"===e})),1)),f.includes("ARRAY::PUSH")&&(R.push("); "),f.splice(f.findIndex((function(e){return"ARRAY::PUSH"===e})),1)),f.includes("PRINT::START")&&(R.push("); "),f.splice(f.findIndex((function(e){return"PRINT::START"===e})),1)),f.includes("CONDITION::START")&&R.push("&&"),f.includes("MODULE::REQUIRE")&&(R.push("); "),f.splice(f.findIndex((function(e){return"MODULE::REQUIRE"===e})),1));break;case"LOOP":R.push("for("),f.push("LOOP::START");break;case"WHILE":R.push("while("),f.push("LOOP::START");break;case"FUNCTION":i||R.push("function "),f.push("FUNCTION::START");break;case"IN":R.push(" in ");break;case"PRINT":R.push("console.log("),f.push("PRINT::START")}}};for(var O in h){var A=d(O);if("object"==typeof A)return A.value}f.includes("STRING::REMOVE")&&(R.push(', "")'),f.splice(f.findIndex((function(e){return"STRING::REMOVE"===e})),1)),f.includes("ARRAY::REMOVE")&&(R.push(")"),f.splice(f.findIndex((function(e){return"ARRAY::REMOVE"===e})),1)),f.includes("ARRAY::PUSH")&&(R.push(")"),f.splice(f.findIndex((function(e){return"ARRAY::PUSH"===e})),1)),f.includes("PRINT::START")&&(R.push(")"),f.splice(f.findIndex((function(e){return"PRINT::START"===e})),1)),f.includes("CONDITION::START")&&(R.push("):"),f.splice(f.findIndex((function(e){return"CONDITION::START"===e})),1)),f.includes("LOOP::START")&&(R.push("):"),f.splice(f.findIndex((function(e){return"LOOP::START"===e})),1)),f.includes("FUNCTION::ARGUMENTS")&&(R.push("):"),i=!1,f.splice(f.findIndex((function(e){return"FUNCTION::ARGUMENTS"===e})),1)),f.includes("MODULE::REQUIRE")&&(R.push(")"),f.splice(f.findIndex((function(e){return"MODULE::REQUIRE"===e})),1)),t.push(R.join("")),R=[],f=[]}o.writeFile(n,new u.default(t).tab().join("\n"),(function(e){if(e)throw e}))},e}();n.default=p},function(e,n,t){"use strict";n.__esModule=!0,n.Tokenizer=void 0;var s=t(4),r=function(){function e(){}return e.addTokenSet=function(e){for(var n in e)this.tokens[n]=e[n]},e.tokenize=function(e){return s.scanner(e,this)},e.tokens={},e.customOut={},e.ignore={},e.functions={},e}();n.Tokenizer=r},function(e,n,t){"use strict";function s(e,n,t){var s={token:e,value:n};return e in t.customOut&&(s.customOut=t.customOut[e]),s}function r(e,n,t){return null!==e&&(e.index<n.startToken||e.index===n.startToken&&e[0].length>n.endToken)&&(n.startToken=e.index,n.tokenValue=e[0],n.endToken=e[0].length,n.currToken=t),n}function i(e,n){var t={endToken:0,startToken:Number.MAX_SAFE_INTEGER,tokenValue:"",currToken:""};for(var s in e){if(e.hasOwnProperty(s))t=r(n.match(e[s]),t,s)}return t}n.__esModule=!0,n.scanner=void 0,n.scanner=function(e,n){for(var t=n.tokens,r=[];e;){var u=i(t,e),o=u.endToken,c=u.startToken,a=u.tokenValue,p=u.currToken;0!==c&&(a=e.substring(0,c),p=n.errTok,o=c),n.ignore[p]||r.push(s(p,a,n)),p in n.functions&&n.functions[p](),e=e.substring(o)}return r}},function(e,n,t){"use strict";n.__esModule=!0,n.default={SPACE:/\s/,TABS:/^\s+/,DOT:/\./,COMMA:/,/,L_PAREN:/\(/,R_PAREN:/\)/,ARGUMENTS:/=>/,PROPERTY:/:\w+/,INDEX:/<.*?>/,STRING:/(['"])(.*?)(['"])/,INT:/-?\d+/,OPTIONAL:/opt/,BOOLEAN:/true|false/,FUNCTION:/fn/,IF:/if/,ELIF:/elif/,ELSE:/else/,WHILE:/while/,LOOP:/loop/,IN:/in/,PRINT:/print/,RETURN:/return/,ADD:/(\+=|=\+)/,REMOVE:/(-=|=-)/,IMPORT:/import/,EXPORT:/export/,FROM:/from/,ARRAY:/(:=|=:)/,AND:/and|&/,WORD:/\w+/,SIGNS:/[><=+\-*\/%|]/,NOT:/not|!/,COMMENT:/--.*/}},function(e,n,t){"use strict";n.__esModule=!0;t(0);var s=function(){function e(e){this.content=e.filter((function(e){return""!==e})),this.AST={root:{}},this.parents=[],this.code=[]}return e.prototype.writeObject=function(e,n,t){var s=this.AST.root;if(e.length>0)for(var r in e)e.hasOwnProperty(r)&&(parseInt(r)+1===e.length&&(s[e[r]][n]=t),s=s[e[r]]);else s[n]=t},e.prototype.buildAST=function(e){void 0===e&&(e=0);var n=this.content[e],t=this.content[e+1],s=n.match(/^\s+/)?n.match(/^\s+/)[0].length/2:0,r=t?this.content[e+1].match(/^\s+/)?this.content[e+1].match(/^\s+/)[0].length/2:0:void 0;n.trimRight().endsWith(":")?(this.writeObject(this.parents,n.trim()+"||"+e+"||"+s,{}),this.parents.push(n.trim()+"||"+e+"||"+s)):this.writeObject(this.parents,n.trim()+"||"+e+"||"+s,""),r<s&&(this.parents=this.parents.slice(0,r)),t&&this.buildAST(e+1)},e.prototype.addBrackets=function(e){for(var n in e)e.hasOwnProperty(n)&&("object"==typeof e[n]?(this.code.push(new Array(parseInt(n.split("||")[2])).fill("  ").join("")+n.split("||")[0].slice(0,n.split("||")[0].length-1)+"{"),this.addBrackets(e[n]),this.code.push(new Array(parseInt(n.split("||")[2])).fill("  ").join("")+"}")):(this.code.push(new Array(parseInt(n.split("||")[2])).fill("  ").join("")+n.split("||")[0]),this.addBrackets(e[n])))},e.prototype.tab=function(){return this.buildAST(0),this.addBrackets(this.AST.root),this.code},e}();n.default=s}]);